<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">  
    <h:head>
        <br></br><b><title>Registro Prestamo</title></b>
    </h:head>
     <h:body>
        <h:form id="RegistroPrestamo">
            <center><p:graphicImage value="resource/ImagenInicio.jpg"/></center>

            <p:panel id="registroPrestamo"  header="Registro Nuevo Prestamo" style="margin-bottom:20px">

              </p:panel>

                <h:form id="form">
                    
                <p:growl id="msgs" showDetail="true" />

                <p:tabView>
                    <p:tab title="Consultar Persona">
                       <h:panelGrid columns="2" cellpadding="5" rendered="#{RegistroPrestamo.showPanelPersona}">
                        <h:outputLabel value="Carne : (*) " />
                        <p:inputText id="persona" value="#{RegistroPrestamo.carne}" />
                        <p:commandButton value="Consultar" actionListener="#{RegistroPrestamo.consultarPersona()}" ajax="false" icon="ui-icon-search"/>
                        <h:outputLabel value="Nombre :" />
                        <p:outputLabel value="#{RegistroPrestamo.elQuePideElPrestamo.nombre}" />
                        <h:outputLabel value="Apellido:" />
                        <p:outputLabel value="#{RegistroPrestamo.elQuePideElPrestamo.apellido}" />
                        <h:outputLabel value="Rol:" />
                        <p:outputLabel value="#{RegistroPrestamo.elQuePideElPrestamo.rolMasValioso}" />
                        <p:messages id="messages" autoUpdate="true" closable="true" />
                       </h:panelGrid>
                    </p:tab>
                    <p:tab title="Prestamo Termino Fijo">
                        <h:panelGrid columns="2" cellpadding="5" rendered="#{RegistroPrestamo.showPanelRegistro}">
                            <p:layout style="min-width:600px;min-height:400px;">
                                <p:layoutUnit position="west">
                                    <h:outputLabel value="Modelo : (*) " />
                                        <p:inputText id="modelo" value="#{RegistroPrestamo.modelo}" />
                                        <p:commandButton value="Consultar Equipos" update=":RegistroPrestamo" ajax="false" icon="ui-icon-search"/>
                                        <p:commandButton value="Agregar Equipo" update=":RegistroPrestamo" actionListener="#{RegistroPrestamo.agregarEquipoC()}" ajax="false" icon="ui-icon-plusthick"/>
                                        <p:dataTable id="EquiposModelos" var="equipoC" value="#{RegistroPrestamo.consultarEqModelo()}"  >
                                            <p:column headerText="Nombre">
                                                <h:outputText value="#{equipoC.modelo_Eq.nombre}" />
                                            </p:column>
                                            <p:column headerText="Estado">
                                                <h:outputText value="#{equipoC.estado}" />
                                            </p:column>
                                            <p:column headerText="Disponibilidad">
                                                <h:outputText value="#{equipoC.disponibilidad}" />
                                            </p:column>
                                        <f:facet name="footer">
                                        </f:facet>
                                        </p:dataTable>
                                        <p:dataTable id="EquiposModelos" var="equipoC" value="#{RegistroPrestamo.equiposComplejosPrestados}"  >
                                            <p:column headerText="Nombre">
                                                <h:outputText value="#{equipoC.modelo_Eq.nombre}" />
                                            </p:column>
                                            <p:column headerText="Estado">
                                                <h:outputText value="#{equipoC.estado}" />
                                            </p:column>
                                            <p:column headerText="Disponibilidad">
                                                <h:outputText value="#{equipoC.disponibilidad}" />
                                            </p:column>
                                        <f:facet name="footer">
                                        </f:facet>
                                        </p:dataTable>             
                                       <p:messages id="messages" autoUpdate="true" closable="true" /> 
                                </p:layoutUnit>

                                <p:layoutUnit position="center" resizable="true" size="15" minSize="10" maxSize="20">
                                    Center
                                </p:layoutUnit>
                             </p:layout>
                        </h:panelGrid>
                    </p:tab>
                    <p:tab title="Prestamo Indefinido">
                        <h:panelGrid columns="2" cellpadding="5" rendered="#{RegistroPrestamo.showPanelRegistro}">
                            <p:layout style="min-width:600px;min-height:400px;">
                                <p:layoutUnit position="west">
                                    <h:outputLabel value="Modelo : (*) " />
                                        <p:inputText id="modelo" value="#{RegistroPrestamo.modelo}" />
                                        <p:commandButton value="Consultar Equipos" update=":RegistroPrestamo" ajax="false" icon="ui-icon-search"/>
                                        <p:commandButton value="Agregar Equipo" update=":RegistroPrestamo" actionListener="#{RegistroPrestamo.agregarEquipoC()}" ajax="false" icon="ui-icon-plusthick"/>
                                        <p:dataTable id="EquiposModelos" var="equipoC" value="#{RegistroPrestamo.consultarEqModelo()}"  >
                                            <p:column headerText="Nombre">
                                                <h:outputText value="#{equipoC.modelo_Eq.nombre}" />
                                            </p:column>
                                            <p:column headerText="Estado">
                                                <h:outputText value="#{equipoC.estado}" />
                                            </p:column>
                                            <p:column headerText="Disponibilidad">
                                                <h:outputText value="#{equipoC.disponibilidad}" />
                                            </p:column>
                                        <f:facet name="footer">
                                        </f:facet>
                                        </p:dataTable>
                                        <p:dataTable id="EquiposModelos" var="equipoC" value="#{RegistroPrestamo.equiposComplejosPrestados}"  >
                                            <p:column headerText="Nombre">
                                                <h:outputText value="#{equipoC.modelo_Eq.nombre}" />
                                            </p:column>
                                            <p:column headerText="Estado">
                                                <h:outputText value="#{equipoC.estado}" />
                                            </p:column>
                                            <p:column headerText="Disponibilidad">
                                                <h:outputText value="#{equipoC.disponibilidad}" />
                                            </p:column>
                                        <f:facet name="footer">
                                        </f:facet>
                                        </p:dataTable>             
                                       <p:messages id="messages" autoUpdate="true" closable="true" /> 
                                </p:layoutUnit>

                                <p:layoutUnit position="center" resizable="true" size="15" minSize="10" maxSize="20">
                                    Center
                                </p:layoutUnit>
                             </p:layout>
                        </h:panelGrid>>
                    </p:tab>
                </p:tabView>

        </h:form>
       </h:form>     
    </h:body>
</html>

    


