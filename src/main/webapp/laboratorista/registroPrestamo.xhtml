<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">  
    <h:head>
        <br></br><b><title>Registro Prestamo</title></b>
    </h:head>
    <h:body>
        <h:form id="RegistroPrestamo">
            <center><p:graphicImage value="../resource/ImagenInicio.jpg"/></center>

            <p:panel id="registroPrestamo"  header="Registro Nuevo Prestamo" style="margin-bottom:20px">

                <p:focus context="registroPrestamo"/>

                <h:form id="form">

                    <p:growl id="msgs" showDetail="true" />

                    <p:tabView>
                        <p:tab title="Consultar Persona">
                            <h:panelGrid columns="2" cellpadding="5" rendered="#{RegistroPrestamo.showPanelPersona}">
                                <h:outputLabel value="Carne : (*) " />

                                <p:inputText id="persona" value="#{RegistroPrestamo.carne}"/>
                                <p:commandButton value="Consultar" actionListener="#{RegistroPrestamo.consultarPersona()}" ajax="false" icon="ui-icon-search"/>
                                <br/><h:outputLabel value="Nombre :" />
                                <p:outputLabel value="#{RegistroPrestamo.elQuePideElPrestamo.nombre}" />
                                <h:outputLabel value="Apellido:" />
                                <p:outputLabel value="#{RegistroPrestamo.elQuePideElPrestamo.apellido}" />
                                <h:outputLabel value="Rol:" />
                                <p:outputLabel value="#{RegistroPrestamo.elQuePideElPrestamo.rolMasValioso()}" />
                                <p:messages id="messages1" autoUpdate="true" closable="true" />
                            </h:panelGrid>
                        </p:tab>
                        <p:tab title="Prestamo Termino Fijo">
                            <h:panelGrid columns="3" cellpadding="5">
                                <p:layout style="min-width:600px;min-height:400px;">
                                    <p:layoutUnit position="west" size="600">
                                        <h:outputLabel value="Modelo : (*) " />
                                        <p:inputText id="modelo1" value="#{RegistroPrestamo.modelo}" />
                                        <!--p:outputLabel value="#{RegistroPrestamo.ShowPanelRegistro()}"/-->
                                        <br/><p:commandButton value="Consultar Equipos" update=":tablas" ajax="false" actionListener="#{RegistroPrestamo.consultarEqModelo()}" icon="ui-icon-search"/>
                                        <br/><p:commandButton value="Agregar Equipo" update=":tablas" actionListener="#{RegistroPrestamo.agregarEquipoC()}" ajax="false" icon="ui-icon-plusthick"/>
                                            <br/><p:outputLabel id="fechaTipoPrestamo" value="Fecha:" />
                                            <br/><p:selectOneRadio id="tPrestamo" value="#{RegistroPrestamo.fechaTipoPrestamo}" >
                                                <f:selectItems value="#{RegistroPrestamo.tipoPrestamo}" var="tp" itemLabel="#{tp}" itemValue="#{tp}"/>
                                            </p:selectOneRadio>
                                        <p:panel id="tablas" rendered="#{RegistroPrestamo.ShowPanelRegistro()}">

                                            <p:dataTable id="EquiposModelos1" var="equipoC1" value="#{RegistroPrestamo.sacarEqC()}" selectionMode="single" selection="#{RegistroPrestamo.selectEquipoComplejo}" rowKey="#{equipoC1.serial}" >
                                                <p:column headerText="Nombre">      
                                                    <h:outputText value="#{equipoC1.modelo_Eq.nombre}" />
                                                </p:column>
                                                <p:column headerText="Estado">
                                                    <h:outputText value="#{equipoC1.estado}" />
                                                </p:column>
                                                <p:column headerText="Disponibilidad">
                                                    <h:outputText value="#{equipoC1.disponibilidad}" />
                                                </p:column>
                                            </p:dataTable>
                                            <p:dataTable id="EquiposPrestar1" var="equipoC1" value="#{RegistroPrestamo.equiposComplejosPrestados}"  >
                                                <p:column headerText="Nombre">
                                                    <h:outputText value="#{equipoC1.modelo_Eq.nombre}" />
                                                </p:column>
                                                <p:column headerText="Estado">
                                                    <h:outputText value="#{equipoC1.estado}" />
                                                </p:column>
                                                <p:column headerText="Disponibilidad">
                                                    <h:outputText value="#{equipoC1.disponibilidad}" />
                                                </p:column>
                                                <f:facet name="footer">
                                                </f:facet>
                                            </p:dataTable>       
                                        </p:panel>                                       
                                    </p:layoutUnit>
                                    <p:layoutUnit position="center" resizable="true" size="100" minSize="40" maxSize="200">
                                        <h:outputLabel value="Nombre Del Equipo : (*) " />
                                        <p:inputText id="nombreEq" value="#{RegistroPrestamo.nombre}" />
                                        <br/><p:commandButton value="Consultar Equipos" update=":tablas2" ajax="false" actionListener="#{RegistroPrestamo.consultarEqSNombre()}" icon="ui-icon-search"/>
                                        <br/><h:outputLabel value="Cantidad : (*) "  />
                                        <p:inputText id="cantidadEq" value="#{RegistroPrestamo.cantidad}" />
                                        <br/><p:commandButton value="Agregar Equipo" update=":tablas2" actionListener="#{RegistroPrestamo.agregarEquipoS()}" ajax="false" icon="ui-icon-plusthick"/>
                                          <br/><p:outputLabel id="fechaTipoPrestamo2" value="Fecha:" />
                                          <br/><p:selectOneRadio id="tPrestamo2" value="#{RegistroPrestamo.fechaTipoPrestamo2}" >
                                                <f:selectItems value="#{RegistroPrestamo.tipoPrestamo2}" var="tp2" itemLabel="#{tp2}" itemValue="#{tp2}"/>
                                            </p:selectOneRadio>
                                        <p:panel id="tablas2" rendered="#{RegistroPrestamo.ShowPanelRegistro()}">
                                            <p:dataTable id="EquiposNombre1" var="equipoS1" value="#{RegistroPrestamo.sacarEqS()}" selectionMode="single" selection="#{RegistroPrestamo.selectEquipoSencillo}" rowKey="#{equipoS1.nombre}" >
                                                <p:column headerText="Nombre">      
                                                    <h:outputText value="#{equipoS1.nombre}" />
                                                </p:column>
                                                <p:column headerText="Cantidad Total">
                                                    <h:outputText value="#{equipoS1.cantidadTotal}" />
                                                </p:column>
                                                <p:column headerText="Clase">
                                                    <h:outputText value="#{equipoS1.clase}" />
                                                </p:column>
                                            </p:dataTable>
                                            <p:dataTable id="EquiposSPrestar1" var="equipoS1" value="#{RegistroPrestamo.equiposSencillosPrestados}"  >
                                                <p:column headerText="Nombre">
                                                    <h:outputText value="#{equipoS1.nombre}" />
                                                </p:column>
                                                <p:column headerText="Cantidad Total">
                                                    <h:outputText value="#{equipoS1.cantidadTotal}" />
                                                </p:column>
                                                <p:column headerText="Clase">
                                                    <h:outputText value="#{equipoS1.clase}" />
                                                </p:column>
                                                <f:facet name="footer">
                                                </f:facet>
                                            </p:dataTable>       
                                        </p:panel>
                                    </p:layoutUnit>
                                </p:layout>
                            </h:panelGrid>
                        </p:tab>
                        <p:tab title="Prestamo Indefinido">
                            <h:panelGrid columns="2" cellpadding="5" >
                                <p:layout style="min-width:600px;min-height:400px;">
                                    <p:layoutUnit position="west" size="600">
                                        <h:outputLabel value="Modelo : (*) " />
                                        <p:inputText id="modelo2" value="#{RegistroPrestamo.modelo2}" />
                                        <!--p:outputLabel value="#{RegistroPrestamo.ShowPanelRegistro()}"/-->
                                        <br/><p:commandButton value="Consultar Equipos" update=":tablas3" ajax="false" actionListener="#{RegistroPrestamo.consultarEqModelo2()}" icon="ui-icon-search"/>
                                        <br/><p:commandButton value="Agregar Equipo" update=":tablas3" actionListener="#{RegistroPrestamo.agregarEquipoC2()}" ajax="false" icon="ui-icon-plusthick"/>
                                        <p:panel id="tablas3" rendered="#{RegistroPrestamo.ShowPanelRegistro()}">

                                            <p:dataTable id="EquiposModelos2" var="equipoC2" value="#{RegistroPrestamo.sacarEqC2()}" selectionMode="single" selection="#{RegistroPrestamo.selectEquipoComplejo2}" rowKey="#{equipoC2.serial}" >
                                                <p:column headerText="Nombre">      
                                                    <h:outputText value="#{equipoC2.modelo_Eq.nombre}" />
                                                </p:column>
                                                <p:column headerText="Estado">
                                                    <h:outputText value="#{equipoC2.estado}" />
                                                </p:column>
                                                <p:column headerText="Disponibilidad">
                                                    <h:outputText value="#{equipoC2.disponibilidad}" />
                                                </p:column>
                                            </p:dataTable>
                                            <p:dataTable id="EquiposPrestar2" var="equipoC2" value="#{RegistroPrestamo.equipoComplejosPrestados2}"  >
                                                <p:column headerText="Nombre">
                                                    <h:outputText value="#{equipoC2.modelo_Eq.nombre}" />
                                                </p:column>
                                                <p:column headerText="Estado">
                                                    <h:outputText value="#{equipoC2.estado}" />
                                                </p:column>
                                                <p:column headerText="Disponibilidad">
                                                    <h:outputText value="#{equipoC2.disponibilidad}" />
                                                </p:column>
                                                <f:facet name="footer">
                                                </f:facet>
                                            </p:dataTable>       
                                        </p:panel>                                       
                                    </p:layoutUnit>
                                    <p:layoutUnit position="center" resizable="true" size="100" minSize="40" maxSize="200">
                                        <h:outputLabel value="Nombre Del Equipo : (*) " />
                                        <p:inputText id="nombreEq2" value="#{RegistroPrestamo.nombre2}" />
                                        <br/><p:commandButton value="Consultar Equipos" update=":tablas4" ajax="false" actionListener="#{RegistroPrestamo.consultarEqSNombre2()}" icon="ui-icon-search"/>
                                        <br/><h:outputLabel value="Cantidad : (*) "  />
                                        <p:inputText id="cantidadEq2" value="#{RegistroPrestamo.cantidad2}" />
                                        <br/><p:commandButton value="Agregar Equipo" update=":tablas4" actionListener="#{RegistroPrestamo.agregarEquipoS2()}" ajax="false" icon="ui-icon-plusthick"/>
                                        <p:panel id="tablas4" rendered="#{RegistroPrestamo.ShowPanelRegistro()}">

                                            <p:dataTable id="EquiposNombre2" var="equipoS2" value="#{RegistroPrestamo.sacarEqS2()}" selectionMode="single" selection="#{RegistroPrestamo.selectEquipoSencillo2}" rowKey="#{equipoS2.nombre}" >
                                                <p:column headerText="Nombre">      
                                                    <h:outputText value="#{equipoS2.nombre}" />
                                                </p:column>
                                                <p:column headerText="Cantidad Total">
                                                    <h:outputText value="#{equipoS2.cantidadTotal}" />
                                                </p:column>
                                                <p:column headerText="Clase">
                                                    <h:outputText value="#{equipoS2.clase}" />
                                                </p:column>
                                            </p:dataTable>
                                            <p:dataTable id="EquiposSPrestar2" var="equipoS2" value="#{RegistroPrestamo.equipoSencillosPrestados2}"  >
                                                <p:column headerText="Nombre">
                                                    <h:outputText value="#{equipoS2.nombre}" />
                                                </p:column>
                                                <p:column headerText="Cantidad Total">
                                                    <h:outputText value="#{equipoS2.cantidadTotal}" />
                                                </p:column>
                                                <p:column headerText="Clase">
                                                    <h:outputText value="#{equipoS2.clase}" />
                                                </p:column>
                                                <f:facet name="footer">
                                                </f:facet>
                                            </p:dataTable>       
                                        </p:panel>
                                    </p:layoutUnit>
                                </p:layout>
                            </h:panelGrid>
                        </p:tab>
                    </p:tabView>

                </h:form>
            </p:panel>
        </h:form>     
    </h:body>
</html>




